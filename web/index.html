<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        color: var(--tg-theme-text-color);
        background: var(--tg-theme-bg-color);
      }
      button {
        color: var(--tg-theme-button-color);
        background: var(--tg-theme-button-text-color);
      }
      button:hover {
        background: var(--tg-theme-secondary-bg-color);
      }
      form {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="main">
      <h1>Тест</h1>
      <img
        style="width: 200px"
        src="https://upload.wikimedia.org/wikipedia/commons/9/9b/Afrikanischer_Elefant%2C_Zoo_Miami_1.jpg"
        alt="слон"
      />
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut quae quasi
        illo dolor necessitatibus. Perspiciatis, quod numquam? Quos nam ipsam
        iusto amet fugit voluptates suscipit, modi asperiores id laboriosam
        alias, aperiam voluptas autem nemo porro sequi molestiae? Officia
        blanditiis sint aspernatur exercitationem, repellendus voluptate
        dignissimos minima necessitatibus adipisci suscipit provident aliquid
        ipsam quod, commodi accusantium consequatur natus corporis id sed
        recusandae. Tempora quae vero laudantium iure esse eligendi expedita
        suscipit dolorum obcaecati officia, incidunt cupiditate et assumenda
        rerum iusto reprehenderit. Fuga incidunt perspiciatis tenetur magnam,
        quis possimus labore aliquam quibusdam velit sunt soluta laudantium
        rerum numquam, iusto aperiam iste quasi.
      </p>
      <button id="buy">Купить</button>
    </div>
    <form id="form">
      <input type="text" placeholder="имя" id="user_name" />
      <input type="text" placeholder="email" id="user_email" />
      <input type="text" placeholder="телефон" id="user_phone" />
      <button id="order">Оформить</button>
    </form>
    <p id="text">111</p>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      let tg = window.Telegram.WebApp;
      let buy = document.querySelector("#buy");
      let order = document.querySelector("#order");
      let main = document.querySelector("#main");
      let form = document.querySelector("#form");
      let user_email = document.querySelector("#user_email");
      let user_name = document.querySelector("#user_name");
      let text = document.querySelector("#text");

      buy.addEventListener("click", () => {
        main.style.display = "none";
        form.style.display = "block";

        user_email.value = "yyyyy";
        // work only with InlineKeyboardMarkup
        text.innerHTML = tg.initDataUnsafe.user.username;

        document.getElementById("user_name").value =
          tg.initDataUnsafe.user.first_name +
          " " +
          tg.initDataUnsafe.user.last_name;
      });

      order.addEventListener("click", () => {
        tg.close();
      });
    </script>
  </body>
</html>
